<div id="map"></div>
<script>
    var mapOptions = {
    center: [-6.2943376, 106.7821138],
    zoom: 17,
    };

    var map = L.map("map").setView(
    [mapOptions["center"][0], mapOptions["center"][1]],
    mapOptions["zoom"]
    );

    L.tileLayer("https://tile.openstreetmap.org/{z}/{x}/{y}.png", {
    maxZoom: 19,
    attribution:
        '&copy; <a href="http://www.openstreetmap.org/copyright">OpenStreetMap</a>',
    }).addTo(map);

    var puddleIcon = L.icon({
    iconUrl: '<%= asset_path("puddle.png") %>',
    iconSize: [64, 64],
    });

    <% @events.each do |event| %>
        L.marker([<%= event.latitude %>, <%= event.longitude %>], { icon: puddleIcon }).addTo(map).bindPopup(
        '<center><img src="<%= event.image_url %>" width="200" height="200"><br><b><%= event.title %></b></center>'
        );
    <% end %>
</script>
